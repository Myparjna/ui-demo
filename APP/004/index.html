<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>贝果 Bagel - 潮玩定制商城</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
    />
    <!-- Replaced IconPark with Tabler Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css"
    />
    <style>
      body {
        font-family: "Inter", "Noto Sans SC", sans-serif;
        background-color: #333; /* 深灰色留白 */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        overflow: hidden; /* Prevent body scrollbar */
      }
      #app-container {
        width: 375px; /* iPhone X/XS/11 Pro/12 Mini/13 Mini width */
        height: 812px; /* iPhone X/XS/11 Pro/12 Mini/13 Mini height */
        max-width: 100vw;
        max-height: 100vh;
        background-color: #f8f8f8; /* 主背景色 */
        position: relative;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.2);
        border-radius: 20px;
        overflow: hidden; /* Hide internal scrollbars */
        display: flex;
        flex-direction: column;
      }

      /* Status Bar Simulation */
      .status-bar {
        height: 44px;
        background-color: #f8f8f8;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 16px;
        font-size: 13px;
        font-weight: 500;
        color: #333;
        z-index: 10;
        flex-shrink: 0;
      }
      .status-bar span {
        display: flex;
        align-items: center;
      }
      .status-bar .time {
        font-weight: bold;
      }
      .status-bar .icons i {
        /* Tabler icons are <i> elements */
        margin-left: 8px;
        font-size: 16px; /* Adjusted for Tabler icons visual balance */
      }

      .scroll-area {
        flex-grow: 1;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 80px;
      }
      .scroll-area::-webkit-scrollbar,
      .product-scroll-container::-webkit-scrollbar,
      .category-list::-webkit-scrollbar,
      .hide-scrollbar::-webkit-scrollbar,
      .shop-content-area::-webkit-scrollbar,
      .cart-items-scroll::-webkit-scrollbar {
        display: none;
      }
      .scroll-area,
      .product-scroll-container,
      .category-list,
      .hide-scrollbar,
      .shop-content-area,
      .cart-items-scroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .bottom-tab-bar {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 70px;
        background-color: #ffffff;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 16px;
        box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        z-index: 20;
      }
      .tab-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 1;
        color: #a0a0a0;
        font-size: 11px;
        transition: color 0.3s ease;
        cursor: pointer;
      }
      .tab-item i {
        /* Tabler icons */
        font-size: 24px;
        margin-bottom: 2px;
        line-height: 1; /* Important for Tabler icon alignment */
      }
      .tab-group {
        display: flex;
        background-color: #f0f0f0;
        border-radius: 25px;
        height: 50px;
        flex: 3;
        margin: 0 10px;
        overflow: hidden;
        align-items: center;
        justify-content: space-around;
      }
      .tab-group .tab-item {
        flex: 1;
        border-radius: 25px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
      }
      .tab-group .tab-item.active {
        background-color: #f8f8f8;
        color: #800020;
      }
      .single-tab-button {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #a0a0a0;
        cursor: pointer;
        transition: background-color 0.3s ease, color 0.3s ease;
        position: relative;
      }
      .single-tab-button i {
        /* Tabler icons */
        font-size: 24px;
        line-height: 1;
      }
      .single-tab-button.accent {
        background-color: #800020;
        color: #ffffff;
      }
      .single-tab-button.accent i {
        /* Tabler icons */
        color: #ffffff;
      }
      .tab-item.active {
        color: #800020;
      }
      #cart-badge {
        position: absolute;
        top: 4px;
        right: 4px;
        background-color: white;
        color: #800020;
        border-radius: 50%;
        width: 16px;
        height: 16px;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);
      }

      .page {
        position: absolute;
        top: 44px;
        left: 0;
        width: 100%;
        height: calc(100% - 44px);
        background-color: #f8f8f8;
        opacity: 0;
        transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
        transform: translateX(100%);
        z-index: 1;
        display: flex;
        flex-direction: column;
      }
      .page.active {
        opacity: 1;
        transform: translateX(0);
        z-index: 5;
      }
      .page.leaving-forward {
        transform: translateX(-100%);
        opacity: 0;
      }
      .page.leaving-backward {
        transform: translateX(100%);
        opacity: 0;
      }

      .home-header {
        padding: 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f8f8f8;
        z-index: 10;
        flex-shrink: 0;
      }
      .home-header i {
        font-size: 20px;
      } /* Tabler icons */
      .home-content {
        padding: 0 16px;
      }
      .section-title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin-top: 24px;
        margin-bottom: 16px;
      }
      .grid-section {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;
        margin-top: 16px;
      }
      .grid-item {
        background-color: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 12px;
        height: 160px;
        position: relative;
        color: #333;
        font-weight: 500;
        font-size: 14px;
      }
      .grid-item img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 1;
        transition: transform 0.3s ease;
      }
      .grid-item:hover img {
        transform: scale(1.05);
      }
      .grid-item span {
        position: relative;
        z-index: 2;
        color: white;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        font-size: 18px;
        font-weight: bold;
      }

      .recent-viewed-item {
        width: 100px;
        margin-right: 12px;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        overflow: hidden;
        flex-shrink: 0;
      }
      .recent-viewed-item img {
        width: 100px;
        height: 100px;
        object-fit: cover;
      }
      .recent-viewed-item-info {
        padding: 8px;
        font-size: 12px;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .recent-viewed-item-info .item-name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 100%;
        text-align: center;
        margin-bottom: 4px;
      }
      .recent-viewed-item-info .like-button i {
        /* Tabler icons */
        font-size: 18px;
        line-height: 1;
      }
      .recent-viewed-item-info .like-button {
        /* For the button itself if needed */
        color: #a0a0a0;
        cursor: pointer;
        transition: color 0.2s ease, transform 0.2s ease;
      }
      .recent-viewed-item-info .like-button:hover {
        transform: scale(1.1);
      }
      .recent-viewed-item-info .like-button.liked {
        color: #800020;
      }

      .banner-placeholder {
        width: 100%;
        height: 150px;
        background-color: #dedede;
        border-radius: 12px;
        margin-top: 24px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #666;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .banner-placeholder img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .shop-card {
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        padding: 16px;
        margin-bottom: 24px;
      }
      .shop-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 12px;
      }
      .shop-info {
        display: flex;
        align-items: center;
      }
      .shop-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 12px;
        border: 2px solid #f0f0f0;
      }
      .shop-meta .shop-name {
        font-size: 16px;
        font-weight: 600;
        color: #333;
      }
      .shop-meta .shop-stats {
        font-size: 12px;
        color: #666;
        display: flex;
        align-items: center;
        margin-top: 4px;
      }
      .shop-meta .shop-stats i {
        font-size: 12px;
        margin-right: 4px;
        line-height: 1;
      } /* Tabler */
      .shop-action-buttons button {
        background-color: #f0f0f0;
        color: #666;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 500;
        margin-left: 8px;
        transition: background-color 0.2s ease, color 0.2s ease;
        display: flex;
        align-items: center;
      }
      .shop-action-buttons button i {
        margin-right: 4px;
        font-size: 14px;
        line-height: 1;
      } /* Tabler */
      .shop-action-buttons button.followed {
        background-color: #800020;
        color: #ffffff;
      }

      .product-scroll-container {
        display: flex;
        overflow-x: scroll;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 10px;
        margin: 0 -16px;
        padding-left: 16px;
        padding-right: 16px;
      }

      .product-small-card {
        width: 140px;
        flex-shrink: 0;
        margin-right: 12px;
        background-color: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        position: relative;
      }
      .product-small-card img {
        width: 100%;
        height: 120px;
        object-fit: cover;
      }
      .product-small-card-info {
        padding: 8px;
        font-size: 12px;
        color: #333;
      }
      .product-small-card .discount-tag {
        position: absolute;
        top: 8px;
        left: 8px;
        background-color: #800020;
        color: #ffffff;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 10px;
        font-weight: bold;
      }
      .product-small-card .collect-button {
        /* Button itself */
        position: absolute;
        top: 8px;
        right: 8px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #a0a0a0;
        cursor: pointer;
        transition: color 0.2s ease, transform 0.2s ease;
      }
      .product-small-card .collect-button i {
        font-size: 18px;
        line-height: 1;
      } /* Tabler */
      .product-small-card .collect-button:hover {
        transform: scale(1.1);
      }
      .product-small-card .collect-button.liked {
        color: #800020;
      }
      .product-small-card .product-name {
        font-weight: 500;
        margin-top: 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .product-small-card .price-original {
        text-decoration: line-through;
        color: #a0a0a0;
        margin-right: 8px;
      }
      .product-small-card .price-discount {
        font-weight: bold;
        color: #800020;
        font-size: 14px;
      }

      .shop-four-products-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-top: 12px;
      }
      .product-grid-card {
        background-color: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        position: relative;
      }
      .product-grid-card img {
        width: 100%;
        height: 120px;
        object-fit: cover;
      }
      .product-grid-card-info {
        padding: 8px;
        font-size: 12px;
        color: #333;
      }
      .product-grid-card .discount-tag {
        position: absolute;
        top: 8px;
        left: 8px;
        background-color: #800020;
        color: #ffffff;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 10px;
        font-weight: bold;
      }
      .product-grid-card .collect-button {
        /* Button itself */
        position: absolute;
        top: 8px;
        right: 8px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #a0a0a0;
        cursor: pointer;
        transition: color 0.2s ease, transform 0.2s ease;
      }
      .product-grid-card .collect-button i {
        font-size: 18px;
        line-height: 1;
      } /* Tabler */
      .product-grid-card .collect-button:hover {
        transform: scale(1.1);
      }
      .product-grid-card .collect-button.liked {
        color: #800020;
      }
      .product-grid-card .product-name {
        font-weight: 500;
        margin-top: 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .product-grid-card .price-original {
        text-decoration: line-through;
        color: #a0a0a0;
        margin-right: 8px;
      }
      .product-grid-card .price-discount {
        font-weight: bold;
        color: #800020;
        font-size: 14px;
      }

      .search-header {
        padding: 16px;
        background-color: #f8f8f8;
        z-index: 10;
        flex-shrink: 0;
      }
      .search-input-container {
        position: relative;
        display: flex;
        align-items: center;
        background-color: #ededed;
        border-radius: 12px;
        padding: 8px 12px;
      }
      .search-input-container i {
        font-size: 20px;
        color: #a0a0a0;
        margin-right: 8px;
        line-height: 1;
      } /* Tabler */
      .search-input-container input {
        background: none;
        border: none;
        outline: none;
        flex-grow: 1;
        font-size: 14px;
        color: #333;
      }
      .search-input-container input::placeholder {
        color: #a0a0a0;
      }
      .category-list {
        display: flex;
        overflow-x: scroll;
        -webkit-overflow-scrolling: touch;
        padding: 16px;
        background-color: #f8f8f8;
        flex-shrink: 0;
      }
      .category-item {
        flex-shrink: 0;
        background-color: #f0f0f0;
        color: #333;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        margin-right: 12px;
        cursor: pointer;
        transition: background-color 0.2s ease, color 0.2s ease;
      }
      .category-item.active {
        background-color: #800020;
        color: #ffffff;
      }
      .search-banner {
        width: calc(100% - 32px);
        height: 100px;
        background-color: #dedede;
        border-radius: 12px;
        margin: 0 16px 16px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        flex-shrink: 0;
      }
      .search-banner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .product-waterfall {
        columns: 2;
        column-gap: 12px;
        padding: 0 16px;
      }
      .product-waterfall-card {
        background-color: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        margin-bottom: 12px;
        break-inside: avoid-column;
        position: relative;
      }
      .product-waterfall-card img {
        width: 100%;
        height: auto;
        display: block;
      }
      .product-waterfall-card-info {
        padding: 10px;
        font-size: 13px;
        color: #333;
      }
      .product-waterfall-card .product-name {
        font-weight: 500;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        margin-bottom: 4px;
        min-height: 2.6em;
      }
      .product-waterfall-card .price {
        font-weight: bold;
        color: #800020;
        font-size: 15px;
      }
      .product-waterfall-card .collect-button {
        /* Button itself */
        position: absolute;
        bottom: 8px;
        right: 8px;
        background-color: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(2px);
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #a0a0a0;
        cursor: pointer;
        transition: color 0.2s ease, transform 0.2s ease;
      }
      .product-waterfall-card .collect-button i {
        font-size: 18px;
        line-height: 1;
      } /* Tabler */
      .product-waterfall-card .collect-button:hover {
        transform: scale(1.1);
      }
      .product-waterfall-card .collect-button.liked {
        color: #800020;
      }

      .my-header {
        padding: 16px;
        display: flex;
        align-items: center;
        background-color: #f8f8f8;
        z-index: 10;
        flex-shrink: 0;
      }
      .my-avatar {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 16px;
        border: 3px solid #ededed;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .my-name {
        font-size: 24px;
        font-weight: 700;
        color: #333;
      }

      .daily-fortune-card {
        padding: 16px;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        margin: 0 16px 16px;
      }
      .daily-fortune-card .quote-mark {
        color: #800020;
        font-size: 24px;
        line-height: 1;
      }

      .order-tabs {
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
      }
      .order-tab-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: 12px;
        color: #666;
        cursor: pointer;
        transition: color 0.2s ease;
        flex: 1;
        text-align: center;
      }
      .order-tab-item i {
        font-size: 24px;
        margin-bottom: 4px;
        line-height: 1;
      } /* Tabler */
      .order-tab-item.active,
      .order-tab-item:hover {
        color: #800020;
      }
      .my-section-card {
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        margin: 0 16px 16px;
        padding: 16px;
      }
      .my-section-card-title {
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin-bottom: 12px;
      }
      .my-section-item {
        display: flex;
        align-items: center;
        padding: 10px 0;
        font-size: 14px;
        color: #333;
        cursor: pointer;
        border-bottom: 1px solid #f0f0f0;
      }
      .my-section-item:last-child {
        border-bottom: none;
      }
      .my-section-item i:first-child {
        /* Tabler */
        font-size: 20px;
        color: #a0a0a0;
        margin-right: 12px;
        line-height: 1;
      }
      .my-section-item i.ti-chevron-right {
        /* Tabler */
        font-size: 16px;
        color: #c0c0c0;
        line-height: 1;
      }
      .my-section-item span {
        flex-grow: 1;
      }

      .product-custom-header {
        height: 300px;
        background-color: #dedede;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }
      .product-custom-header img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .back-button {
        position: absolute;
        top: 16px;
        left: 16px;
        background-color: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(3px);
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #333;
        z-index: 10;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .back-button i {
        font-size: 20px;
        line-height: 1;
      } /* Tabler */
      .product-details-content {
        padding: 16px;
        background-color: #f8f8f8;
        flex-grow: 1;
      }
      .product-title {
        font-size: 22px;
        font-weight: 700;
        color: #333;
        margin-bottom: 8px;
      }
      .product-price {
        font-size: 20px;
        font-weight: bold;
        color: #800020;
        margin-bottom: 16px;
      }
      .customization-option {
        margin-bottom: 24px;
      }
      .option-title {
        font-size: 16px;
        font-weight: 600;
        color: #333;
        margin-bottom: 12px;
      }
      .option-selector-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .option-item {
        background-color: #f0f0f0;
        color: #666;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s ease, color 0.2s ease,
          border-color 0.2s ease;
        border: 2px solid transparent;
      }
      .option-item.selected {
        background-color: #faeaea;
        color: #800020;
        border-color: #800020;
        font-weight: 500;
      }
      .color-palette {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }
      .color-box {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 2px solid transparent;
        cursor: pointer;
        transition: border-color 0.2s ease, transform 0.2s ease;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      .color-box.selected {
        border-color: #800020;
        transform: scale(1.1);
      }
      .upload-area {
        background-color: #f0f0f0;
        border: 2px dashed #dedede;
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        color: #a0a0a0;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s ease, border-color 0.2s ease;
      }
      .upload-area:hover {
        background-color: #e5e5e5;
        border-color: #c0c0c0;
      }
      .upload-area i {
        font-size: 32px;
        margin-bottom: 8px;
        line-height: 1;
      } /* Tabler */
      .price-work-info {
        background-color: #fef7e6;
        border-radius: 12px;
        padding: 16px;
        margin-top: 24px;
        color: #854d0e;
        font-size: 14px;
        line-height: 1.5;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .add-to-cart-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        background-color: #ffffff;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
        position: sticky;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 10;
        flex-shrink: 0;
      }
      #product-custom-page .scroll-area {
        padding-bottom: 0;
      }

      .add-to-cart-bar .total-price {
        font-size: 22px;
        font-weight: bold;
        color: #800020;
      }
      .add-to-cart-bar button {
        background-color: #800020;
        color: #ffffff;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      .add-to-cart-bar button:hover {
        background-color: #6a001a;
      }

      .shop-header-full {
        height: 180px;
        background-color: #dedede;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: center;
        padding-bottom: 20px;
        overflow: hidden;
        flex-shrink: 0;
      }
      .shop-header-full img.background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: brightness(0.7);
        z-index: 1;
      }
      .shop-header-full .content {
        position: relative;
        z-index: 2;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #ffffff;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
      }
      .shop-header-full .shop-logo {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 4px solid #ffffff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        object-fit: cover;
        margin-bottom: 10px;
      }
      .shop-header-full .shop-name {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 4px;
      }
      .shop-header-full .shop-rating {
        font-size: 14px;
        display: flex;
        align-items: center;
      }
      .shop-header-full .shop-rating i {
        font-size: 14px;
        color: #ffd700;
        margin-right: 2px;
        line-height: 1;
      } /* Tabler */
      .shop-header-full .shop-rating span {
        margin-left: 6px;
      }
      .shop-follow-button {
        position: absolute;
        top: 16px;
        right: 16px;
        background-color: rgba(255, 255, 255, 0.2);
        color: #ffffff;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        backdrop-filter: blur(5px);
        z-index: 5;
        cursor: pointer;
      }
      .shop-header-full .back-button {
        background-color: rgba(0, 0, 0, 0.3);
        color: white;
      }
      .shop-header-full .back-button i {
        line-height: 1;
      } /* Tabler */

      .shop-content-area {
        background-color: #f8f8f8;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
        margin-top: -20px;
        position: relative;
        z-index: 3;
        padding: 16px;
        padding-bottom: 70px;
        flex-grow: 1;
        overflow-y: scroll;
      }
      #shop-home-page .scroll-area {
        padding-bottom: 0;
      }

      .shop-search-category {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
      }
      .shop-search-input {
        flex-grow: 1;
        background-color: #ededed;
        border-radius: 12px;
        padding: 8px 12px;
        display: flex;
        align-items: center;
        margin-right: 12px;
      }
      .shop-search-input i {
        font-size: 18px;
        color: #a0a0a0;
        margin-right: 8px;
        line-height: 1;
      } /* Tabler */
      .shop-search-input input {
        background: none;
        border: none;
        outline: none;
        flex-grow: 1;
        font-size: 14px;
        color: #333;
      }
      .shop-category-button {
        background-color: #f0f0f0;
        color: #666;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        flex-shrink: 0;
      }
      .shop-filter-bar {
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-bottom: 16px;
        background-color: #ffffff;
        padding: 12px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }
      .shop-filter-bar .filter-item {
        font-size: 14px;
        color: #666;
        font-weight: 500;
        cursor: pointer;
        transition: color 0.2s ease;
        display: flex;
        align-items: center;
      }
      .shop-filter-bar .filter-item.active {
        color: #800020;
      }
      .shop-filter-bar .filter-item i {
        margin-left: 4px;
        font-size: 12px;
        line-height: 1;
      } /* Tabler */
      .shop-product-waterfall {
        columns: 2;
        column-gap: 12px;
      }
      .shop-product-waterfall .product-waterfall-card {
        margin-bottom: 12px;
      }

      .cart-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(8px);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 30;
      }
      .cart-overlay.visible {
        opacity: 1;
        visibility: visible;
      }
      .cart-drawer {
        position: absolute;
        top: 0;
        right: 0;
        width: 85%;
        height: 100%;
        background-color: #ffffff;
        transform: translateX(100%);
        transition: transform 0.3s ease;
        display: flex;
        flex-direction: column;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
      }
      .cart-overlay.visible .cart-drawer {
        transform: translateX(0);
      }
      .cart-drawer-header {
        padding: 16px;
        padding-top: calc(16px + 44px);
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #ededed;
        flex-shrink: 0;
      }
      .cart-drawer-header .title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
      }
      .cart-drawer-header .action-button {
        font-size: 14px;
        color: #a0a0a0;
        cursor: pointer;
        padding: 4px;
      }
      .cart-drawer-header .action-button i {
        font-size: 20px;
        line-height: 1;
      } /* Tabler */
      .cart-drawer-header .action-button:hover {
        color: #333;
      }
      .cart-items-scroll {
        flex-grow: 1;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch;
        padding: 16px;
      }
      .cart-item {
        display: flex;
        background-color: #f8f8f8;
        border-radius: 12px;
        padding: 12px;
        margin-bottom: 12px;
        align-items: center;
      }
      .cart-item img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 8px;
        margin-right: 12px;
        flex-shrink: 0;
      }
      .cart-item-info {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        min-height: 80px;
      }
      .cart-item-name {
        font-size: 15px;
        font-weight: 500;
        color: #333;
        margin-bottom: 4px;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .cart-item-specs {
        font-size: 12px;
        color: #666;
        margin-bottom: 8px;
      }
      .cart-item-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .cart-item-price {
        font-size: 16px;
        font-weight: bold;
        color: #800020;
      }
      .quantity-controls {
        display: flex;
        align-items: center;
        background-color: #ededed;
        border-radius: 20px;
        overflow: hidden;
      }
      .quantity-controls button {
        background-color: transparent;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        color: #666;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      .quantity-controls button:hover {
        background-color: #e0e0e0;
      }
      .quantity-controls span {
        padding: 0 10px;
        font-size: 14px;
        color: #333;
        min-width: 20px;
        text-align: center;
      }
      .cart-checkout-bar {
        padding: 16px;
        background-color: #ffffff;
        border-top: 1px solid #ededed;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-shrink: 0;
      }
      .cart-checkout-bar .total-container {
        display: flex;
        align-items: baseline;
      }
      .cart-checkout-bar .total-label {
        font-size: 14px;
        color: #666;
        margin-right: 8px;
      }
      .cart-checkout-bar .total-price-final {
        font-size: 22px;
        font-weight: bold;
        color: #800020;
      }
      .cart-checkout-bar button {
        background-color: #800020;
        color: #ffffff;
        padding: 12px 24px;
        border-radius: 25px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
      }
      .cart-checkout-bar button:hover {
        background-color: #6a001a;
      }

      .empty-state {
        text-align: center;
        padding: 40px 20px;
        color: #a0a0a0;
        font-size: 14px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex-grow: 1;
      }
      .empty-state i {
        font-size: 60px;
        color: #dedede;
        margin-bottom: 20px;
        line-height: 1;
      } /* Tabler */
      .empty-state p {
        margin-bottom: 20px;
        line-height: 1.6;
      }
      .empty-state button {
        background-color: #800020;
        color: #ffffff;
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      .empty-state button:hover {
        background-color: #6a001a;
      }
      .hidden {
        display: none !important;
      }
      .ti {
        /* Base class for Tabler Icons - ensure line-height for proper vertical alignment */
        line-height: 1;
      }
    </style>
  </head>
  <body>
    <div id="app-container">
      <div class="status-bar">
        <span class="time">11:33</span>
        <span class="icons">
          <i class="ti ti-access-point"></i>
          <i class="ti ti-wifi"></i>
          <i class="ti ti-battery-4"></i>
        </span>
      </div>

      <!-- Home Page -->
      <div id="home-page" class="page active">
        <div class="scroll-area">
          <div class="home-header">
            <div class="app-name text-2xl font-bold text-gray-800">
              贝果 Bagel
            </div>
            <button
              class="text-gray-600 flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 transition-colors duration-200 hover:bg-gray-200"
            >
              <i class="ti ti-headset"></i>
            </button>
          </div>

          <div class="home-content">
            <h2 class="section-title">精选分类</h2>
            <div class="grid-section">
              <div
                class="grid-item flex justify-center items-center cursor-pointer"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/ln49KMy2FxvtpZj.jpg"
                  alt="饰品"
                />
                <span class="relative z-10">饰品</span>
              </div>
              <div
                class="grid-item flex justify-center items-center cursor-pointer"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/rUVHBiLbZqoMOQC.jpg"
                  alt="画作"
                />
                <span class="relative z-10">画作</span>
              </div>
              <div
                class="grid-item flex justify-center items-center cursor-pointer"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/IsqmiLSDB3Cn81p.jpg"
                  alt="宠物毛毡"
                />
                <span class="relative z-10">宠物毛毡</span>
              </div>
              <div
                class="grid-item flex justify-center items-center cursor-pointer"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/vqTagyotSnsrLz3.jpg"
                  alt="贴纸"
                />
                <span class="relative z-10">贴纸</span>
              </div>
            </div>

            <h2 class="section-title">最近浏览</h2>
            <div class="flex overflow-x-auto pb-4 hide-scrollbar">
              <div class="recent-viewed-item cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/8uP9tYbvrI5yOdl.jpg"
                  alt="极简几何耳环"
                />
                <div class="recent-viewed-item-info">
                  <div class="item-name">极简几何耳环</div>
                  <button class="like-button">
                    <i class="ti ti-heart"></i>
                  </button>
                </div>
              </div>
              <div class="recent-viewed-item cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/xp1hMEfqB6rQoS4.jpg"
                  alt="抽象肖像画"
                />
                <div class="recent-viewed-item-info">
                  <div class="item-name">抽象肖像画</div>
                  <button class="like-button liked">
                    <i class="ti ti-heart-filled"></i>
                  </button>
                </div>
              </div>
              <div class="recent-viewed-item cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/sSRjvOXGYmzFAtP.jpg"
                  alt="小狗毛毡"
                />
                <div class="recent-viewed-item-info">
                  <div class="item-name">小狗毛毡</div>
                  <button class="like-button">
                    <i class="ti ti-heart"></i>
                  </button>
                </div>
              </div>
              <div class="recent-viewed-item cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/BWS6zhcaYQvu8N2.jpg"
                  alt="潮流贴纸组"
                />
                <div class="recent-viewed-item-info">
                  <div class="item-name">潮流贴纸组</div>
                  <button class="like-button">
                    <i class="ti ti-heart"></i>
                  </button>
                </div>
              </div>
              <div class="recent-viewed-item cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/zTKH7ImpFNRx1lr.jpg"
                  alt="波西米亚项链"
                />
                <div class="recent-viewed-item-info">
                  <div class="item-name">波西米亚项链</div>
                  <button class="like-button">
                    <i class="ti ti-heart"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="banner-placeholder">
              <img
                src="https://cdn.sa.net/2025/06/03/HIbq8LgCRT75UGn.jpg"
                alt="运营海报"
              />
            </div>

            <h2 class="section-title">热门店铺</h2>
            <div class="shop-card">
              <div class="shop-header">
                <div class="shop-info cursor-pointer shop-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/ohHz5MqL9WSnlYx.jpg"
                    alt="店铺头像 - 艺匠工坊"
                    class="shop-avatar"
                  />
                  <div class="shop-meta">
                    <div class="shop-name">艺匠工坊</div>
                    <div class="shop-stats">
                      <i class="ti ti-star-filled text-yellow-400"></i>5.0
                      <span class="ml-4">销量 8.5k+</span>
                    </div>
                  </div>
                </div>
                <div class="shop-action-buttons">
                  <button class="follow-button">关注</button>
                  <button><i class="ti ti-share"></i></button>
                </div>
              </div>
              <div class="product-scroll-container">
                <div class="product-small-card cursor-pointer product-entry">
                  <span class="discount-tag">8折</span>
                  <img
                    src="https://cdn.sa.net/2025/06/03/cfUJTk8lwxjZs5n.jpg"
                    alt="月光石手链"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-small-card-info">
                    <div class="product-name">月光石手链</div>
                    <div>
                      <span class="price-original">¥120</span
                      ><span class="price-discount">¥96</span>
                    </div>
                  </div>
                </div>
                <div class="product-small-card cursor-pointer product-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/5jI6fbX7ouhApyN.jpg"
                    alt="极简主义戒指"
                  />
                  <button class="collect-button liked">
                    <i class="ti ti-heart-filled"></i>
                  </button>
                  <div class="product-small-card-info">
                    <div class="product-name">极简主义戒指</div>
                    <div><span class="price-discount">¥180</span></div>
                  </div>
                </div>
                <div class="product-small-card cursor-pointer product-entry">
                  <span class="discount-tag">7折</span>
                  <img
                    src="https://cdn.sa.net/2025/06/03/78LG6JqmkU5WtCr.jpg"
                    alt="波普艺术胸针"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-small-card-info">
                    <div class="product-name">波普艺术胸针</div>
                    <div>
                      <span class="price-original">¥90</span
                      ><span class="price-discount">¥63</span>
                    </div>
                  </div>
                </div>
                <div class="product-small-card cursor-pointer product-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/UJbWPxGvfeLmTF3.jpg"
                    alt="复古琉璃坠"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-small-card-info">
                    <div class="product-name">复古琉璃坠</div>
                    <div><span class="price-discount">¥240</span></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="shop-card">
              <div class="shop-header">
                <div class="shop-info cursor-pointer shop-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/P6xNEMQVGqdusbc.jpg"
                    alt="店铺头像 - 潮玩星球"
                    class="shop-avatar"
                  />
                  <div class="shop-meta">
                    <div class="shop-name">潮玩星球</div>
                    <div class="shop-stats">
                      <i class="ti ti-star-filled text-yellow-400"></i>4.8
                      <span class="ml-4">销量 12k+</span>
                    </div>
                  </div>
                </div>
                <div class="shop-action-buttons">
                  <button class="follow-button followed">已关注</button>
                  <button><i class="ti ti-share"></i></button>
                </div>
              </div>
              <div class="shop-four-products-grid">
                <div class="product-grid-card cursor-pointer product-entry">
                  <span class="discount-tag">新品</span>
                  <img
                    src="https://cdn.sa.net/2025/06/03/JbUCiDLNrK3saOo.jpg"
                    alt="未来主义雕塑"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-grid-card-info">
                    <div class="product-name">未来主义雕塑</div>
                    <div><span class="price-discount">¥499</span></div>
                  </div>
                </div>
                <div class="product-grid-card cursor-pointer product-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/ZPdapcxe9VjIktr.jpg"
                    alt="街头艺术挂画"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-grid-card-info">
                    <div class="product-name">街头艺术挂画</div>
                    <div><span class="price-discount">¥320</span></div>
                  </div>
                </div>
                <div class="product-grid-card cursor-pointer product-entry">
                  <span class="discount-tag">6折</span>
                  <img
                    src="https://cdn.sa.net/2025/06/03/ngVtJWckCw4qxo5.jpg"
                    alt="萌宠宇航服"
                  />
                  <button class="collect-button liked">
                    <i class="ti ti-heart-filled"></i>
                  </button>
                  <div class="product-grid-card-info">
                    <div class="product-name">萌宠宇航服</div>
                    <div>
                      <span class="price-original">¥180</span
                      ><span class="price-discount">¥108</span>
                    </div>
                  </div>
                </div>
                <div class="product-grid-card cursor-pointer product-entry">
                  <img
                    src="https://cdn.sa.net/2025/06/03/MTYxnlQsz5hJFuq.jpg"
                    alt="赛博朋克贴纸"
                  />
                  <button class="collect-button">
                    <i class="ti ti-heart"></i>
                  </button>
                  <div class="product-grid-card-info">
                    <div class="product-name">赛博朋克贴纸</div>
                    <div><span class="price-discount">¥45</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Search Page -->
      <div id="search-page" class="page">
        <div class="scroll-area">
          <div class="search-header">
            <div class="search-input-container">
              <i class="ti ti-search"></i>
              <input type="text" placeholder="搜索潮玩或设计师" />
            </div>
          </div>

          <div class="category-list">
            <div class="category-item active">首饰</div>
            <div class="category-item">送礼</div>
            <div class="category-item">创意艺术</div>
            <div class="category-item">潮玩设备</div>
            <div class="category-item">宠物</div>
            <div class="category-item">更多</div>
          </div>

          <div class="search-banner">
            <img
              src="https://cdn.sa.net/2025/06/03/xQtSvAOUIWDrnz6.jpg"
              alt="运营轮播图"
            />
          </div>

          <div class="product-waterfall">
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/zTKH7ImpFNRx1lr.jpg"
                alt="波西米亚手链"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">波西米亚手链 复古民族风</div>
                <div class="price">¥150</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/BUincvL9elPkQw4.jpg"
                alt="未来城市概念画"
              />
              <button class="collect-button liked">
                <i class="ti ti-heart-filled"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">未来城市概念画 原创设计</div>
                <div class="price">¥680</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/sSRjvOXGYmzFAtP.jpg"
                alt="宠物毛毡公仔"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">宠物毛毡公仔 定制款 可爱风</div>
                <div class="price">¥220</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/NLMPyviuVE5kWhD.jpg"
                alt="手绘卡通动物贴纸包"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">手绘卡通动物贴纸包 (50入)</div>
                <div class="price">¥35</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/UJbWPxGvfeLmTF3.jpg"
                alt="纯手工琉璃项链"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">纯手工琉璃项链 多色可选</div>
                <div class="price">¥360</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/XV7hqMUPbcDHNCm.jpg"
                alt="抽象油画"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">抽象油画 原创设计 北欧风格</div>
                <div class="price">¥999</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/JbUCiDLNrK3saOo.jpg"
                alt="未来主义雕塑摆件"
              />
              <button class="collect-button">
                <i class="ti ti-heart"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">未来主义雕塑摆件 客厅装饰</div>
                <div class="price">¥499</div>
              </div>
            </div>
            <div class="product-waterfall-card cursor-pointer product-entry">
              <img
                src="https://cdn.sa.net/2025/06/03/ngVtJWckCw4qxo5.jpg"
                alt="宠物太空服饰"
              />
              <button class="collect-button liked">
                <i class="ti ti-heart-filled"></i>
              </button>
              <div class="product-waterfall-card-info">
                <div class="product-name">宠物太空服饰 猫狗通用款</div>
                <div class="price">¥108</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- My Page -->
      <div id="my-page" class="page">
        <div class="scroll-area">
          <div class="my-header">
            <img
              src="https://cdn.sa.net/2025/06/03/Uh6gBKEQajsnmlN.jpg"
              alt="用户头像"
              class="my-avatar cursor-pointer"
            />
            <div class="my-name">艺术鉴赏家</div>
          </div>

          <div class="daily-fortune-card">
            <div class="space-y-3">
              <div>
                <p class="text-xs text-gray-500 mb-1">今日寄语</p>
                <blockquote class="relative">
                  <span class="absolute -left-3 -top-1 quote-mark">“</span>
                  <p class="text-sm text-gray-700 italic leading-relaxed ml-2">
                    艺术是生命的盐，让平淡的日常闪耀光芒。
                  </p>
                </blockquote>
              </div>
              <div
                class="flex items-center justify-between pt-3 mt-3 border-t border-gray-100"
              >
                <div class="flex-1">
                  <p class="text-xs text-gray-500 mb-1">每日颜色推荐</p>
                  <div class="flex items-center">
                    <div
                      class="w-5 h-5 rounded-full mr-2 border-2 border-opacity-50"
                      style="border-color: #800020; background-color: #800020"
                    ></div>
                    <span class="text-sm font-semibold" style="color: #800020"
                      >勃艮第红</span
                    >
                  </div>
                </div>
                <div class="text-right flex-1">
                  <p class="text-xs text-gray-500 mb-1">幸运指数</p>
                  <p class="text-2xl font-bold" style="color: #800020">
                    92<span class="text-base align-super">%</span>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="my-section-card">
            <div class="my-section-card-title">我的订单</div>
            <div class="order-tabs">
              <div class="order-tab-item active">
                <i class="ti ti-wallet"></i>
                <span>待付款</span>
              </div>
              <div class="order-tab-item">
                <i class="ti ti-truck-delivery"></i>
                <span>待发货</span>
              </div>
              <div class="order-tab-item">
                <i class="ti ti-package"></i>
                <span>待收货</span>
              </div>
              <div class="order-tab-item">
                <i class="ti ti-message-circle"></i>
                <span>待评价</span>
              </div>
              <div class="order-tab-item">
                <i class="ti ti-receipt-refund"></i>
                <span>退款/售后</span>
              </div>
            </div>
            <div class="my-section-item mt-2">
              <i class="ti ti-list-details"></i>
              <span>全部订单</span>
              <i class="ti ti-chevron-right"></i>
            </div>
            <div id="my-orders-empty-state" class="empty-state">
              <i class="ti ti-archive"></i>
              <p>您还没有任何相关订单，快去探索艺术潮玩吧！</p>
              <button class="navigate-button" data-page="home-page">
                前往首页
              </button>
            </div>
          </div>

          <div class="my-section-card">
            <div class="my-section-card-title">我的定制</div>
            <div class="my-section-item">
              <i class="ti ti-heart"></i>
              <span>我的想要 (收藏商品)</span>
              <i class="ti ti-chevron-right"></i>
            </div>
            <div class="my-section-item">
              <i class="ti ti-building-store"></i>
              <span>收藏店铺</span>
              <i class="ti ti-chevron-right"></i>
            </div>
          </div>

          <div class="my-section-card">
            <div class="my-section-card-title">最近浏览的店铺</div>
            <div class="flex overflow-x-auto pb-2 hide-scrollbar">
              <div
                class="flex flex-col items-center mr-4 cursor-pointer shop-entry"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/ldYZHikhtEOr1wL.jpg"
                  alt="店铺 - 设计之光"
                  class="w-16 h-16 rounded-full object-cover border-2 border-gray-100"
                />
                <span class="text-xs text-gray-700 mt-2 whitespace-nowrap"
                  >设计之光</span
                >
              </div>
              <div
                class="flex flex-col items-center mr-4 cursor-pointer shop-entry"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/VxQ6FlsOIEUez41.jpg"
                  alt="店铺 - 原创艺术"
                  class="w-16 h-16 rounded-full object-cover border-2 border-gray-100"
                />
                <span class="text-xs text-gray-700 mt-2 whitespace-nowrap"
                  >原创艺术</span
                >
              </div>
              <div
                class="flex flex-col items-center mr-4 cursor-pointer shop-entry"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/g9DrjANbLu4Tazc.jpg"
                  alt="店铺 - 独家印记"
                  class="w-16 h-16 rounded-full object-cover border-2 border-gray-100"
                />
                <span class="text-xs text-gray-700 mt-2 whitespace-nowrap"
                  >独家印记</span
                >
              </div>
              <div
                class="flex flex-col items-center mr-4 cursor-pointer shop-entry"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/6QDRWJMGO8eqLyw.jpg"
                  alt="店铺 - 匠心定制"
                  class="w-16 h-16 rounded-full object-cover border-2 border-gray-100"
                />
                <span class="text-xs text-gray-700 mt-2 whitespace-nowrap"
                  >匠心定制</span
                >
              </div>
              <div
                class="flex flex-col items-center mr-4 cursor-pointer shop-entry"
              >
                <img
                  src="https://cdn.sa.net/2025/06/03/ohHz5MqL9WSnlYx.jpg"
                  alt="店铺 - 艺匠工坊"
                  class="w-16 h-16 rounded-full object-cover border-2 border-gray-100"
                />
                <span class="text-xs text-gray-700 mt-2 whitespace-nowrap"
                  >艺匠工坊</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Product Customization Page -->
      <div id="product-custom-page" class="page">
        <button class="back-button product-page-back-button">
          <i class="ti ti-arrow-left"></i>
        </button>
        <div class="scroll-area">
          <div class="product-custom-header">
            <img
              id="custom-product-image"
              src="https://cdn.sa.net/2025/06/03/KXfP4zQhD6LOvEN.jpg"
              alt="定制商品主图"
            />
          </div>
          <div class="product-details-content">
            <h1 class="product-title">原创手工定制项链</h1>
            <div class="product-price">¥ 288.00</div>

            <div class="customization-option">
              <div class="option-title">选择尺寸</div>
              <div class="option-selector-grid">
                <div
                  class="option-item selected"
                  data-option="size"
                  data-value="S"
                >
                  小 (S)
                </div>
                <div class="option-item" data-option="size" data-value="M">
                  中 (M)
                </div>
                <div class="option-item" data-option="size" data-value="L">
                  大 (L)
                </div>
                <div class="option-item" data-option="size" data-value="XL">
                  加大 (XL)
                </div>
              </div>
            </div>

            <div class="customization-option">
              <div class="option-title">选择颜色</div>
              <div class="color-palette">
                <div
                  class="color-box selected"
                  style="background-color: #800020"
                  data-option="color"
                  data-value="#800020"
                  title="勃艮第红"
                ></div>
                <div
                  class="color-box"
                  style="background-color: #008080"
                  data-option="color"
                  data-value="#008080"
                  title="孔雀蓝"
                ></div>
                <div
                  class="color-box"
                  style="background-color: #333333"
                  data-option="color"
                  data-value="#333333"
                  title="曜石黑"
                ></div>
                <div
                  class="color-box"
                  style="background-color: #f0e68c"
                  data-option="color"
                  data-value="#F0E68C"
                  title="香槟金"
                ></div>
                <div
                  class="color-box"
                  style="background-color: #add8e6"
                  data-option="color"
                  data-value="#ADD8E6"
                  title="婴儿蓝"
                ></div>
              </div>
            </div>

            <div class="customization-option">
              <div class="option-title">选择背景</div>
              <div class="option-selector-grid">
                <div
                  class="option-item selected"
                  data-option="background"
                  data-value="PureWhite"
                >
                  纯白
                </div>
                <div
                  class="option-item"
                  data-option="background"
                  data-value="MarbleTexture"
                >
                  大理石纹
                </div>
                <div
                  class="option-item"
                  data-option="background"
                  data-value="Geometric"
                >
                  几何图案
                </div>
              </div>
            </div>

            <div class="customization-option">
              <div class="option-title">选择印花图片</div>
              <div class="upload-area">
                <i class="ti ti-cloud-upload"></i>
                <p>点击上传您的定制图片或选择预设</p>
              </div>
            </div>

            <div class="price-work-info">
              <p><strong>定制级别：</strong>高级定制</p>
              <p><strong>预计工期：</strong>下单后 7-14 个工作日发货</p>
            </div>

            <h2 class="section-title">商品详细介绍</h2>
            <div class="text-gray-700 leading-relaxed mb-8 text-sm">
              <p class="mb-2">
                这款定制项链采用顶级材质，由经验丰富的匠人手工打造。我们注重每一个细节，力求将您的个性与艺术完美融合。无论是送礼还是自用，它都将成为独一无二的珍品。
              </p>
              <p class="mb-2">
                <strong>材质：</strong
                >925纯银镀18K金，镶嵌天然宝石（可选）。<br />
                <strong>工艺：</strong
                >手工抛光、精细雕刻、珐琅彩绘（部分款式）。
              </p>
              <img
                src="https://cdn.sa.net/2025/06/03/cfUJTk8lwxjZs5n.jpg"
                alt="商品细节图1"
                class="w-full rounded-xl my-4 shadow-md"
              />
              <p>
                我们提供多种尺寸和颜色选项，确保您的定制项链能完美贴合您的风格。通过选择不同的背景和印花图案，您可以创造出真正属于自己的艺术品。请在下单前仔细核对您的定制选项。
              </p>
            </div>

            <h2 class="section-title">相关推荐</h2>
            <div class="product-waterfall">
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/8uP9tYbvrI5yOdl.jpg"
                  alt="极简几何耳环"
                />
                <div class="product-waterfall-card-info">
                  <div class="product-name">极简几何耳环 925银</div>
                  <div class="price">¥180</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/JbUCiDLNrK3saOo.jpg"
                  alt="未来主义雕塑摆件"
                />
                <div class="product-waterfall-card-info">
                  <div class="product-name">未来主义雕塑 限量版</div>
                  <div class="price">¥499</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="add-to-cart-bar">
          <div class="total-price">¥ 288.00</div>
          <button id="product-add-to-cart-button">加入购物车</button>
        </div>
      </div>

      <!-- Shop Home Page -->
      <div id="shop-home-page" class="page">
        <button class="back-button shop-page-back-button">
          <i class="ti ti-arrow-left"></i>
        </button>
        <div class="scroll-area">
          <div class="shop-header-full">
            <img
              id="shop-background-image"
              src="https://cdn.sa.net/2025/06/03/Ytnm8GUFWXDjL4e.jpg"
              alt="店铺背景图"
              class="background"
            />
            <div class="content">
              <img
                id="shop-logo-image"
                src="https://cdn.sa.net/2025/06/03/ohHz5MqL9WSnlYx.jpg"
                alt="店铺Logo - 艺匠工坊"
                class="shop-logo"
              />
              <div class="shop-name" id="shop-name-full">艺匠工坊</div>
              <div class="shop-rating">
                <i class="ti ti-star-filled"></i>
                <i class="ti ti-star-filled"></i>
                <i class="ti ti-star-filled"></i>
                <i class="ti ti-star-filled"></i>
                <i class="ti ti-star-filled"></i>
                <span>5.0 (8.5k+ 评价)</span>
              </div>
            </div>
            <button class="shop-follow-button">已关注</button>
          </div>

          <div class="shop-content-area">
            <div class="shop-search-category">
              <div class="shop-search-input">
                <i class="ti ti-search"></i>
                <input type="text" placeholder="搜索店内商品" />
              </div>
              <button class="shop-category-button">分类</button>
            </div>

            <div class="shop-filter-bar">
              <div class="filter-item active">最新</div>
              <div class="filter-item">
                销量<i class="ti ti-sort-descending"></i>
              </div>
              <div class="filter-item">
                价格<i class="ti ti-arrows-sort"></i>
              </div>
              <div class="filter-item">筛选<i class="ti ti-filter"></i></div>
            </div>

            <div class="shop-product-waterfall">
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/cfUJTk8lwxjZs5n.jpg"
                  alt="月光石手链"
                />
                <button class="collect-button">
                  <i class="ti ti-heart"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">月光石手链 精致款</div>
                  <div class="price">¥96</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/5jI6fbX7ouhApyN.jpg"
                  alt="极简主义戒指"
                />
                <button class="collect-button liked">
                  <i class="ti ti-heart-filled"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">极简主义戒指 多尺寸</div>
                  <div class="price">¥180</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/78LG6JqmkU5WtCr.jpg"
                  alt="波普艺术胸针"
                />
                <button class="collect-button">
                  <i class="ti ti-heart"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">波普艺术胸针 限量发售</div>
                  <div class="price">¥63</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/UJbWPxGvfeLmTF3.jpg"
                  alt="复古琉璃坠"
                />
                <button class="collect-button">
                  <i class="ti ti-heart"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">复古琉璃坠 手工打造</div>
                  <div class="price">¥240</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/ln49KMy2FxvtpZj.jpg"
                  alt="手工银饰手镯"
                />
                <button class="collect-button">
                  <i class="ti ti-heart"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">手工银饰手镯 复古设计</div>
                  <div class="price">¥320</div>
                </div>
              </div>
              <div class="product-waterfall-card cursor-pointer product-entry">
                <img
                  src="https://cdn.sa.net/2025/06/03/8uP9tYbvrI5yOdl.jpg"
                  alt="原创几何耳饰"
                />
                <button class="collect-button">
                  <i class="ti ti-heart"></i>
                </button>
                <div class="product-waterfall-card-info">
                  <div class="product-name">原创几何耳饰 不对称美</div>
                  <div class="price">¥180</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Cart Overlay -->
      <div id="cart-overlay" class="cart-overlay">
        <div class="cart-drawer">
          <div class="cart-drawer-header">
            <div class="title">
              购物车 (<span id="cart-item-count-header">3</span>)
            </div>
            <div>
              <button class="action-button mr-4" id="clear-cart-button">
                清空
              </button>
              <button class="action-button" id="close-cart-button">
                <i class="ti ti-x"></i>
              </button>
            </div>
          </div>
          <div class="cart-items-scroll">
            <div
              class="cart-item"
              data-id="item1"
              data-price="96.00"
              data-quantity="1"
            >
              <img
                src="https://cdn.sa.net/2025/06/03/cfUJTk8lwxjZs5n.jpg"
                alt="定制月光石手链"
              />
              <div class="cart-item-info">
                <div>
                  <div class="cart-item-name">定制月光石手链</div>
                  <div class="cart-item-specs">尺寸: M, 颜色: 勃艮第红</div>
                </div>
                <div class="cart-item-actions">
                  <div class="cart-item-price">¥ 96.00</div>
                  <div class="quantity-controls">
                    <button class="decrement">-</button>
                    <span class="quantity">1</span>
                    <button class="increment">+</button>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="cart-item"
              data-id="item2"
              data-price="680.00"
              data-quantity="1"
            >
              <img
                src="https://cdn.sa.net/2025/06/03/xp1hMEfqB6rQoS4.jpg"
                alt="抽象肖像画"
              />
              <div class="cart-item-info">
                <div>
                  <div class="cart-item-name">抽象肖像画 - 大师系列</div>
                  <div class="cart-item-specs">尺寸: 50x70cm, 带框</div>
                </div>
                <div class="cart-item-actions">
                  <div class="cart-item-price">¥ 680.00</div>
                  <div class="quantity-controls">
                    <button class="decrement">-</button>
                    <span class="quantity">1</span>
                    <button class="increment">+</button>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="cart-item"
              data-id="item3"
              data-price="220.00"
              data-quantity="1"
            >
              <img
                src="https://cdn.sa.net/2025/06/03/IsqmiLSDB3Cn81p.jpg"
                alt="定制宠物毛毡公仔"
              />
              <div class="cart-item-info">
                <div>
                  <div class="cart-item-name">定制宠物毛毡公仔</div>
                  <div class="cart-item-specs">颜色: 灰色, 印花: 小狗图案</div>
                </div>
                <div class="cart-item-actions">
                  <div class="cart-item-price">¥ 220.00</div>
                  <div class="quantity-controls">
                    <button class="decrement">-</button>
                    <span class="quantity">1</span>
                    <button class="increment">+</button>
                  </div>
                </div>
              </div>
            </div>
            <div id="cart-empty-state" class="empty-state hidden">
              <i class="ti ti-shopping-cart-off"></i>
              <p>购物车空空如也，快去挑选您的心仪潮玩吧！</p>
              <button class="navigate-button" data-page="home-page">
                前往首页
              </button>
            </div>
          </div>
          <div class="cart-checkout-bar">
            <div class="total-container">
              <div class="total-label">总计:</div>
              <div class="total-price-final" id="cart-total-price">
                ¥ 996.00
              </div>
            </div>
            <button id="checkout-button">去结账</button>
          </div>
        </div>
      </div>

      <div class="bottom-tab-bar">
        <div class="single-tab-button" id="app-back-button">
          <i class="ti ti-arrow-left"></i>
        </div>
        <div class="tab-group">
          <div class="tab-item active" data-page="home-page">
            <i class="ti ti-home"></i>
            <span>首页</span>
          </div>
          <div class="tab-item" data-page="search-page">
            <i class="ti ti-search"></i>
            <span>搜索</span>
          </div>
          <div class="tab-item" data-page="my-page">
            <i class="ti ti-user"></i>
            <span>我的</span>
          </div>
        </div>
        <div class="single-tab-button accent" id="cart-tab-button">
          <i class="ti ti-shopping-bag"></i>
          <span id="cart-badge" style="display: none">0</span>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const pages = document.querySelectorAll(".page");
        const tabItems = document.querySelectorAll(
          ".bottom-tab-bar .tab-group .tab-item"
        );
        const cartTabButton = document.getElementById("cart-tab-button");
        const cartOverlay = document.getElementById("cart-overlay");
        const closeCartButton = document.getElementById("close-cart-button");
        const clearCartButton = document.getElementById("clear-cart-button");
        const cartEmptyState = document.getElementById("cart-empty-state");
        const cartItemsScroll = document.querySelector(".cart-items-scroll");
        const cartItemCountHeaderSpan = document.getElementById(
          "cart-item-count-header"
        );
        const cartTotalPriceSpan = document.getElementById("cart-total-price");
        const cartBadge = document.getElementById("cart-badge");

        const productEntries = document.querySelectorAll(".product-entry");
        const shopEntries = document.querySelectorAll(".shop-entry");
        const likeButtons = document.querySelectorAll(
          ".like-button, .collect-button"
        );
        const optionItems = document.querySelectorAll(
          ".option-item, .color-box"
        );
        const appBackButton = document.getElementById("app-back-button");
        const pageSpecificBackButtons = document.querySelectorAll(
          ".product-page-back-button, .shop-page-back-button"
        );
        const navigateButtons = document.querySelectorAll(".navigate-button");

        let currentPageId = "home-page";
        let pageHistory = ["home-page"];

        function updateCartBadge() {
          const items = cartItemsScroll.querySelectorAll(
            ".cart-item:not(.hidden)"
          );
          const count = items.length;
          cartBadge.textContent = count;
          if (count > 0) {
            cartBadge.style.display = "flex";
          } else {
            cartBadge.style.display = "none";
          }
        }

        function showPage(pageId, direction = "forward", isPushState = true) {
          const currentPage = document.getElementById(currentPageId);
          const nextPage = document.getElementById(pageId);

          if (!nextPage) {
            console.error("Page not found:", pageId);
            return;
          }

          if (currentPage && currentPage !== nextPage) {
            currentPage.classList.remove("active");
            if (direction === "forward") {
              currentPage.classList.add("leaving-forward");
            } else {
              currentPage.classList.add("leaving-backward");
            }
            setTimeout(() => {
              currentPage.classList.remove(
                "leaving-forward",
                "leaving-backward"
              );
            }, 400);
          }

          if (direction === "back") {
            nextPage.style.transform = "translateX(-100%)";
          } else {
            nextPage.style.transform = "translateX(100%)";
          }
          nextPage.classList.add("active");

          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              nextPage.style.transform = "translateX(0)";
            });
          });

          tabItems.forEach((item) => {
            item.classList.toggle("active", item.dataset.page === pageId);
          });

          const oldPageId = currentPageId;
          currentPageId = pageId;

          if (isPushState && oldPageId !== pageId) {
            if (direction === "forward") pageHistory.push(pageId);
          }
        }

        function goBack() {
          if (cartOverlay.classList.contains("visible")) {
            cartOverlay.classList.remove("visible");
            return;
          }
          if (pageHistory.length > 1) {
            pageHistory.pop();
            const prevPageId = pageHistory[pageHistory.length - 1];
            showPage(prevPageId, "back", false);
          } else {
            console.log("No more pages in history.");
          }
        }

        appBackButton.addEventListener("click", goBack);
        pageSpecificBackButtons.forEach((button) =>
          button.addEventListener("click", goBack)
        );

        tabItems.forEach((item) => {
          item.addEventListener("click", () => {
            const pageId = item.dataset.page;
            if (pageId !== currentPageId) {
              const lastPageInHistory = pageHistory[pageHistory.length - 1];
              if (pageId !== lastPageInHistory) {
                showPage(pageId, "forward", true);
              }
            }
          });
        });

        navigateButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const pageId = button.dataset.page;
            if (pageId) {
              showPage(pageId, "forward");
              if (cartOverlay.classList.contains("visible")) {
                cartOverlay.classList.remove("visible");
              }
              if (
                currentPageId === "cart-overlay" &&
                pageId !== "cart-overlay"
              ) {
                cartOverlay.classList.remove("visible");
              }
            }
          });
        });

        cartTabButton.addEventListener("click", () => {
          cartOverlay.classList.add("visible");
          updateCartState();
        });

        closeCartButton.addEventListener("click", () => {
          cartOverlay.classList.remove("visible");
        });

        cartOverlay.addEventListener("click", (event) => {
          if (event.target === cartOverlay) {
            cartOverlay.classList.remove("visible");
          }
        });

        function updateCartState() {
          const items = cartItemsScroll.querySelectorAll(".cart-item");
          let totalDistinctItems = 0;
          let totalPrice = 0;
          let hasVisibleItems = false;

          items.forEach((item) => {
            if (!item.classList.contains("hidden")) {
              hasVisibleItems = true;
              const price = parseFloat(item.dataset.price);
              const quantity = parseInt(
                item.querySelector(".quantity").textContent
              );
              totalDistinctItems++;
              totalPrice += price * quantity;
            }
          });

          if (!hasVisibleItems) {
            cartEmptyState.classList.remove("hidden");
          } else {
            cartEmptyState.classList.add("hidden");
          }

          if (cartItemCountHeaderSpan) {
            cartItemCountHeaderSpan.textContent = totalDistinctItems;
          }

          cartTotalPriceSpan.textContent = `¥ ${totalPrice.toFixed(2)}`;
          updateCartBadge();
        }

        clearCartButton.addEventListener("click", () => {
          const cartItems = cartItemsScroll.querySelectorAll(".cart-item");
          cartItems.forEach((item) => item.remove());
          updateCartState();
        });

        cartItemsScroll.addEventListener("click", (event) => {
          const target = event.target;
          const cartItem = target.closest(".cart-item");
          if (!cartItem) return;

          const quantitySpan = cartItem.querySelector(".quantity");
          let quantity = parseInt(quantitySpan.textContent);

          if (target.classList.contains("increment")) {
            quantity++;
          } else if (target.classList.contains("decrement")) {
            quantity = Math.max(0, quantity - 1);
          }

          quantitySpan.textContent = quantity;
          cartItem.dataset.quantity = quantity;

          if (quantity === 0) {
            setTimeout(() => {
              cartItem.remove();
              updateCartState();
            }, 100);
          } else {
            updateCartState();
          }
        });

        productEntries.forEach((entry) => {
          entry.addEventListener("click", () => {
            showPage("product-custom-page", "forward");
          });
        });

        shopEntries.forEach((entry) => {
          entry.addEventListener("click", () => {
            showPage("shop-home-page", "forward");
          });
        });

        likeButtons.forEach((button) => {
          button.addEventListener("click", (event) => {
            event.stopPropagation();
            button.classList.toggle("liked");
            const icon = button.querySelector("i");
            if (icon) {
              // For Tabler Icons
              if (button.classList.contains("liked")) {
                icon.classList.remove("ti-heart");
                icon.classList.add("ti-heart-filled");
              } else {
                icon.classList.remove("ti-heart-filled");
                icon.classList.add("ti-heart");
              }
            }
          });
        });

        document.querySelectorAll(".follow-button").forEach((button) => {
          button.addEventListener("click", (event) => {
            event.stopPropagation();
            button.classList.toggle("followed");
            if (button.classList.contains("followed")) {
              button.textContent = "已关注";
            } else {
              button.innerHTML = "关注";
            }
          });
        });

        optionItems.forEach((item) => {
          item.addEventListener("click", () => {
            const optionType = item.dataset.option;
            document
              .querySelectorAll(
                `.option-item[data-option="${optionType}"], .color-box[data-option="${optionType}"]`
              )
              .forEach((otherItem) => otherItem.classList.remove("selected"));
            item.classList.add("selected");
          });
        });

        const addToCartFromProductPageButton = document.getElementById(
          "product-add-to-cart-button"
        );
        if (addToCartFromProductPageButton) {
          addToCartFromProductPageButton.addEventListener("click", () => {
            const productTitle = document.querySelector(
              "#product-custom-page .product-title"
            ).textContent;
            const productPriceText = document.querySelector(
              "#product-custom-page .product-price"
            ).textContent;
            const productPrice = parseFloat(
              productPriceText.replace("¥", "").trim()
            );
            const productImageSrc = document.getElementById(
              "custom-product-image"
            ).src;

            const selectedSizeEl = document.querySelector(
              '#product-custom-page .option-item[data-option="size"].selected'
            );
            const selectedColorEl = document.querySelector(
              '#product-custom-page .color-box[data-option="color"].selected'
            );

            const selectedSize = selectedSizeEl
              ? selectedSizeEl.dataset.value
              : "默认";
            const selectedColorValue = selectedColorEl
              ? selectedColorEl.dataset.value
              : "默认";
            const selectedColorTitle = selectedColorEl
              ? selectedColorEl.title || selectedColorValue
              : "默认";

            const newItemId = `prod-${Date.now()}`;

            const newItem = document.createElement("div");
            newItem.classList.add("cart-item");
            newItem.dataset.id = newItemId;
            newItem.dataset.price = productPrice.toFixed(2);
            newItem.dataset.quantity = "1";

            newItem.innerHTML = `
                    <img src="${productImageSrc}" alt="${productTitle}"/>
                    <div class="cart-item-info">
                        <div>
                            <div class="cart-item-name">${productTitle} (定制)</div>
                            <div class="cart-item-specs">尺寸: ${selectedSize}, 颜色: ${selectedColorTitle}</div>
                        </div>
                        <div class="cart-item-actions">
                            <div class="cart-item-price">¥ ${productPrice.toFixed(
                              2
                            )}</div>
                            <div class="quantity-controls">
                                <button class="decrement">-</button>
                                <span class="quantity">1</span>
                                <button class="increment">+</button>
                            </div>
                        </div>
                    </div>
                `;

            const emptyStateEl =
              cartItemsScroll.querySelector("#cart-empty-state");
            if (emptyStateEl) {
              cartItemsScroll.insertBefore(newItem, emptyStateEl);
            } else {
              cartItemsScroll.appendChild(newItem);
            }

            updateCartState();
            alert(`${productTitle} 已加入购物车!`);
            cartOverlay.classList.add("visible");
          });
        }

        showPage(currentPageId, "initial", false);

        function updateTime() {
          const now = new Date();
          const hours = now.getHours().toString().padStart(2, "0");
          const minutes = now.getMinutes().toString().padStart(2, "0");
          document.querySelector(
            ".status-bar .time"
          ).textContent = `${hours}:${minutes}`;
        }
        updateTime();
        setInterval(updateTime, 60000);

        updateCartState();
      });
    </script>
  </body>
</html>
